# API для архивирования проектов на Redmine
*Разработчик*: Берестнев Дмитрий Дмитриевич
*Контакты*:
+ Email: dimka@bdima.ru;
+ VK: [https://vk.com/brotiger63](https://vk.com/brotiger63);

## Запуск приложения
+ Запуск приложения через docker: docker-compose build и docker-compose up;
+ Запуск приложения на прямую python3 API/app.py;

### Переменные окружения
При запуске приложения на прямую необходимо объявить следующие переменные лкружения:
+ apiPort - Порт на котором должно работать данное приложение;
+ dbHost - IP сервера с базой данных Redmine;
+ dbUser - Имя пользователя базы данных Redmine;
+ dbPassword - Пароль пользователя базы данных Redmine;
+ dbName - Имя базы данных Redmine;
+ dbPort - Порт базы данных Redmine;
+ rmArchiveId - Status ID заархивированного проекта;
+ rmUnArchiveId - Status ID разархивированного проекта;
+ rmUrlPattern - Шаблон URL ведущего до проекта;

### Установка зависимостей
При запуске приложения на прямую так же необходимо установить все зависимости, сделать это можно следующей командой:
pip install -r requirements.txt

### Взаимодействие с API
+ Для архивации проекта необходимо послать на адрес данного приложения POST запрос /archive, указав в теле запроса JSON объект:
{
  "url": "ссылка на проект на Redmine"
}
+ Для разархивации проекта необходимо послать на адрес данного приложения POST запрос /unarchive, указав в теле запроса JSON объект:
{
  "url": "ссылка на проект на Redmine"
}